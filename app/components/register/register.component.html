<h1>Register</h1>
<form #formInfo="ngForm" fxLayoutGap="2%" class="container" fxLayoutAlign="center center" fxLayout="row wrap"
    fxLayout.lt-sm="column">

    <!-- user name -->
    <mat-form-field class="example-full-width" fxFlex="35%" fxFlex.lt-sm="100%">
        <input matInput type="text" required #userNameInfo="ngModel" [(ngModel)]="costomer.userName" name="userName"
            placeholder="User Name" pattern="^[A-Za-z0-9]{4,10}$">
        <mat-error *ngIf="userNameInfo.errors?.required && userNameInfo.touched">
            Missing User Name</mat-error>
        <mat-error *ngIf="userNameInfo.errors?.pattern && userNameInfo.touched">
            UserName must be length between 4-10 characters and no spaces.
            Allows All Alphanumeric characters and numbers.
        </mat-error>
    </mat-form-field>


    <!-- email -->
    <mat-form-field class="example-full-width" fxFlex="35%" fxFlex.lt-sm="100%">
        <input type="email" matInput type="text" required
            pattern="^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$"
            #emailInfo="ngModel" [(ngModel)]="costomer.email" name="email" placeholder="Email">
        <mat-error *ngIf="emailInfo.errors?.required && emailInfo.touched">
            Missing Email</mat-error>
        <mat-error *ngIf="emailInfo.errors?.pattern && emailInfo.touched">
            You have entered an invalid Email address.
            Please try again.</mat-error>
    </mat-form-field>


    <!-- password -->
    <mat-form-field class="example-full-width" fxFlex="35%" fxFlex.lt-sm="100%">
        <input matInput [type]="hide ? 'password' : 'text'" required #passwordInfo="ngModel"
            [(ngModel)]="costomer.password" name="password" placeholder="Password"
            pattern="^(?=.*[0-9]+.*)(?=.*[a-zA-Z]+.*)[0-9a-zA-Z]{6,}$">
        <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>

        <mat-error *ngIf="passwordInfo.errors?.required && passwordInfo.touched">
            Missing Password</mat-error>
        <mat-error *ngIf="passwordInfo.errors?.pattern && passwordInfo.touched">
            Password must contain at least one letter,
            at least one number, and be longer than six charaters.</mat-error>
    </mat-form-field>

    <!-- Password Confirm -->
    <mat-form-field class="example-full-width" fxFlex="35%" fxFlex.lt-sm="100%">
        <input [disabled]="!costomer.password" matInput [type]="hide ? 'password' : 'text'" required
            #passwordConfirmInfo="ngModel" placeholder="Password Confirm" [(ngModel)]="confirmPassword"
            name="confirmPassword">
        <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
        <mat-error *ngIf="passwordConfirmInfo.errors?.required && passwordConfirmInfo.touched">
            Missing Confirm Password</mat-error>
    </mat-form-field>
            <!-- City -->
    <mat-form-field fxFlex="35%" fxFlex.lt-sm="100%">
        <mat-label>City</mat-label>
        <mat-select required #cityInfo="ngModel" name="city" [(ngModel)]="costomer.city">
            <mat-option *ngFor="let c of cities" [value]="c.Name">
                {{c.Name}}
            </mat-option>
        </mat-select>
        <mat-error *ngIf="cityInfo.errors?.required && cityInfo.touched">
            Missing City</mat-error>
    </mat-form-field>


    <!-- Street -->
    <mat-form-field class="example-full-width" fxFlex="35%" fxFlex.lt-sm="100%">
        <input matInput type="text" required #streetInfo="ngModel" [(ngModel)]="costomer.street" name="street"
            placeholder="Street" pattern="^[a-zA-Z]{2,15}$">
        <mat-error *ngIf="streetInfo.errors?.required && streetInfo.touched">
            Missing Street</mat-error>
        <mat-error *ngIf="streetInfo.errors?.pattern && streetInfo.touched">
            Street must be letters and length of 2-15</mat-error>
    </mat-form-field>


    <!-- First Name -->
    <mat-form-field class="example-full-width" fxFlex="35%" fxFlex.lt-sm="100%">
        <input matInput type="text" required #firstNameInfo="ngModel" [(ngModel)]="costomer.firstName" name="firstName"
            placeholder="First Name" pattern="^[a-zA-Z]{2,10}$">
        <mat-error *ngIf="firstNameInfo.errors?.required && firstNameInfo.touched">
            Missing First Name</mat-error>
        <mat-error *ngIf="firstNameInfo.errors?.pattern && firstNameInfo.touched">
            First name must be letters and length of 2-10 </mat-error>
    </mat-form-field>


    <!-- Last Name -->
    <mat-form-field class="example-full-width" fxFlex="35%" fxFlex.lt-sm="100%">
        <input matInput type="text" required #lastNameInfo="ngModel" [(ngModel)]="costomer.lastName" name="lastName"
            placeholder="Last Name" pattern="^[a-zA-Z]{2,10}$">
        <mat-error *ngIf="lastNameInfo.errors?.required && lastNameInfo.touched">
            Missing Last Name</mat-error>
        <mat-error *ngIf="lastNameInfo.errors?.pattern && lastNameInfo.touched">
            Last name must be letters and length of 2-10 </mat-error>
    </mat-form-field>


    <!-- Phone -->
    <mat-form-field class="example-full-width" fxFlex="35%" fxFlex.lt-sm="100%">
        <input matInput type="tel" required #phoneInfo="ngModel" [(ngModel)]="costomer.phone" name="phone"
            placeholder="Phone" pattern="^\+?(972|0)(\-)?0?(([23489]{1}\d{7})|[5]{1}\d{8})$">
        <mat-icon matSuffix>phone</mat-icon>
        <mat-error *ngIf="phoneInfo.errors?.required && phoneInfo.touched">
            Missing Phone Number</mat-error>
            <mat-error *ngIf="phoneInfo.errors?.pattern && phoneInfo.touched">
                    Phone number must start with "05" and have to be 7 digits 
                </mat-error>
        </mat-form-field>
    


    <!-- House Number -->
    <mat-form-field class="example-full-width" fxFlex="35%" fxFlex.lt-sm="100%">
        <input pattern="\d{1,3}" matInput type="number" required #houseNumberInfo="ngModel"
            [(ngModel)]="costomer.houseNumber" name="houseNumber" placeholder="House Number">
        <mat-error *ngIf="houseNumberInfo.errors?.required && houseNumberInfo.touched">
            Missing House Number</mat-error>
        <mat-error *ngIf="houseNumberInfo.errors?.pattern && houseNumberInfo.touched">
            House number must be les than 120</mat-error>
    </mat-form-field>


    <button fxFlex="70%" mat-flat-button color="primary" [disabled]="formInfo.form.invalid"
        (click)="register()">Register</button>
</form>